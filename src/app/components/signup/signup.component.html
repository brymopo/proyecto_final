<section id="registro">
    
    <form class="text-primary p-4 my-5" (submit)='onSubmit()' [formGroup]='signUpForm'>
        <div class="text-center">
            <h1>Registrate</h1>
            <hr>
        </div>
        <div class="form-group row">
            <label for="username" class="col">
                Usuario:
            </label>
            <input type="text" placeholder="Nombre de usuario" id="username" required formControlName="username" class="form-control col">
        </div>
        <div class="form-group row">
            <label for="name" class="col">
                Nombre:
            </label>
            <input type="text" placeholder="Nombre" id="name" required formControlName="firstName" class="form-control col">
        </div>
        <div class="form-group row">
            <label for="lastname" class="col">
                Apellido:
            </label>
            <input type="text" placeholder="Apellido" id="lastname" required formControlName="lastName" class="form-control col">
        </div>
        <div class="form-group row">
            <label for="email" class="col">
                Email:
            </label>
            <input type="email" placeholder="me@example.com" id="email" required formControlName="email" class="form-control col">
        </div>
        <p class="small text-danger" *ngIf="signUpForm.get('email').hasError('email')">El email es incorrecto</p>
        <div class="form-group row">
            <label for="phone" class="col">
                Telefono:
            </label>
            <input type="number" placeholder="telefono" id="phone" required formControlName="phone" class="form-control col" pattern="[0-9]*">            
        </div>
        <div *ngIf="signUpForm.get('phone').value">
            <p class="text-danger" *ngIf="signUpForm.get('phone').hasError('badLength')">El numero de telefono debe tener exactamente 10 digitos</p>
            <p class="text-danger" *ngIf="signUpForm.get('phone').hasError('wrongPrefix')">El numero de telefono debe comenzar por 3</p>               
        </div>
           
        <div class="form-group row">
            <label for="password" class="col">
                Contraseña:
            </label>
            <input type="password" placeholder="*********" id="password" required formControlName="password" class="form-control col">
        </div>
        <div *ngIf="signUpForm.get('password').errors?.minlength">
            <p class="text-danger" >La contraseña debe tener mínimo 6 caracteres</p>
       </div>
        <div class="form-group row">
            <label for="repeat" class="col">
                Repetir contraseña:
            </label>
            <input type="password" formControlName='passwordRepeat' required placeholder="*********"  id="repeat" class="form-control col">
        </div>
        <p class="text-danger" *ngIf="signUpForm.hasError('passwordMatch')">
            las contraseñas no coinciden. Por favor verifica e intenta de nuevo
        </p> 
        <h4 class="text-danger" *ngIf='errorMessage'>
            {{ errorMessage }}
        </h4>           
            <button *ngIf='!isLoading' class="btn btn-lg btn-primary">
                Crear cuenta
            </button>
            <app-loading-button *ngIf='isLoading' [message]='"Creando cuenta"'></app-loading-button>      
        
    </form>       

</section>