<section class="container" *ngIf='!loading'>
    <h1 *ngIf='ownAds()' class="text-success">
        Mis Anuncios
    </h1>
    <h1 *ngIf='!ownAds()' class="text-success">
        Mascotas en adopcion
    </h1>

    <app-feedback [injectClass]="'text-danger'" [message]="errorMessage"></app-feedback>
    
    <div *ngIf='ads?.length;else noAds' >
        <div  class="m-2 row">
            <div *ngFor='let ad of ads' class="card col-lg-4 col-sm-6 col-12">
                <div class="card-body">

                    <app-image [pictureId]='ad.pet.pictures[0]'></app-image>
                    
                    <p>Hola, soy {{ ad.pet.name }} </p>
                    <p>
                        <span>{{ad.pet.city}}</span>, <span>{{ ad.pet.province }}</span>
                    </p>
                    <button class="btn btn-success" routerLink='{{ad._id}}'>
                        Ver
                    </button>
                    <button *ngIf="mode==='mis_anuncios'" class="btn btn-danger" (click)='onDelete(ad._id)'>
                        Eliminar
                    </button>
                </div>        
                <app-loading-modal [id]='ad._id' [toDelete]='deleting'></app-loading-modal>
            </div>
        </div>
        
    </div>
    <ng-template #noAds>
        <p>
            <strong>
                Aun no has agregado anuncios
            </strong>
        </p>
    </ng-template>    
    <button *ngIf='ownAds()' class="btn btn-primary" routerLink='../anuncios_form/nuevo'>
        Agregar anuncio
    </button>       
</section>
<app-loading *ngIf='loading'></app-loading>

